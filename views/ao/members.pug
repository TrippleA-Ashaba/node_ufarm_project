extends ao_layout.pug 

block content 
    .container-fluid.mt-3
        //- select.form-select.mb-3
        //-     option(value="") Apply filter
        //-     option(value="farmerone") Farmer One
        //-     option(value="urbanfarmer") Urban Farmer 
        //- option(value="generalpublic") General Public 

        .btn-group(role='group')
            button#filter.btn.btn-light.shadow.dropdown-toggle(type='button' data-bs-toggle='dropdown' aria-expanded='false')
                | Filter
            ul.dropdown-menu(aria-labelledby='filter')
                li
                a.dropdown-item(href='/ao/members/farmerones') Farmer Ones
                li
                a.dropdown-item(href='/ao/members/urbanfarmers') Urban Farmers



        table.table
            thead
                tr
                    th(scope='col') #
                    th
                    th(scope='col') Name
                    th(scope='col') Age
                    th(scope='col') Unique ID
                    th(scope='col') Email
                    th(scope='col') Phone 
                    th(scope='col') Gender
                    th(scope='col') Role
                    th(scope='col') Ward 


            tbody
                if members.length > 0
                    each member,index in members
                        if member.status=='active'
                            tr
                                th(scope='row') #{index+1}
                                th 
                                    img(src="/"+member.avatar, width="35" height="35" style="border-radius:50%")
                                td #{member.firstname} #{member.lastname}
                                - var year = new Date(member.dob)
                                - var year = year.getFullYear()
                                - var yearNow= new Date()
                                -var yearNow=yearNow.getFullYear()
                                td #{yearNow-year}
                                td #{member.uniquenumber}
                                td #{member.email}
                                td +256 #{member.phonenumber}
                                td #{member.gender}
                                td #{member.role}
                                td #{member.ward}
                else 
                    tr 
                        th(scope='row') 0
                        td.text-center(colspan="7") No Farmers Registered

